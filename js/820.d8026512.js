"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[820],{9820:function(e,s,d){d.r(s),d.d(s,{default:function(){return l}});var t=function(){var e=this,s=e._self._c;return s("div",[s("van-nav-bar",{attrs:{fixed:"",title:"收货地址","left-arrow":""},on:{"click-left":function(s){return e.$router.go(-1)}}}),s("br"),s("br"),e.addressList.length>0?s("div",[s("van-address-list",{attrs:{list:e.longAddress,"default-tag-text":"默认"},on:{add:e.onAdd,edit:e.onEdit},model:{value:e.chosenAddressId,callback:function(s){e.chosenAddressId=s},expression:"chosenAddressId"}})],1):s("div",{staticClass:"empty-address"},[s("img",{attrs:{src:d(124),alt:""}}),s("div",{staticClass:"tips"},[e._v(" 您还没有设置收货地址哦，快去设置吧 ")]),s("div",{staticClass:"btn",on:{click:function(s){return e.$router.replace("/newAddress")}}},[e._v("添加地址")])])],1)},r=[],n=(d(7658),d(170)),a={name:"MyAddressIndex",data(){return{chosenAddressId:1,addressList:[]}},created(){this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:300}),this.getAddresslist()},computed:{longAddress(){return this.addressList.map((e=>({id:e.address_id,name:e.name,tel:e.phone,address:e.region.province+" "+e.region.city+" "+e.region.region+" "+e.detail,isDefault:e.isDefault})))}},methods:{onAdd(){this.$router.push("/newAddress")},onEdit(e){this.$router.push({path:"/newAddress",query:{id:e.id,mode:"修改地址",isDelete:!1}})},async getAddresslist(){const e=await(0,n.zM)(),{data:{list:s}}=e,{data:{defaultId:d}}=await(0,n.ID)(),t=s.find((e=>e.address_id===d));Object.assign(t||s[0]||{},{isDefault:!0}),t||(0,n.NW)(s[0].address_id),this.chosenAddressId=(t||s[0]||{}).address_id,this.addressList=s}}},i=a,o=d(1001),u=(0,o.Z)(i,t,r,!1,null,"49dde3a4",null),l=u.exports},170:function(e,s,d){d.d(s,{EY:function(){return a},GI:function(){return u},ID:function(){return c},NW:function(){return l},bM:function(){return n},gh:function(){return i},n5:function(){return o},zM:function(){return r}});var t=d(4471);const r=()=>t.Z.get("/address/list"),n=e=>t.Z.get("/address/detail",{params:{addressId:e}}),a=(e,s,d,r)=>t.Z.post("/address/add",{form:{name:e,phone:s,region:d,detail:r}}),i=(e,s,d,r,n)=>t.Z.post("/address/edit",{addressId:e,form:{name:s,phone:d,region:r,detail:n}}),o=e=>t.Z.post("/address/remove",{addressId:e}),u=()=>t.Z.get("/region/tree"),l=e=>t.Z.post("/address/setDefault",{addressId:e}),c=()=>t.Z.get("/address/defaultId")}}]);
//# sourceMappingURL=820.d8026512.js.map