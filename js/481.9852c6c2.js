"use strict";(self["webpackChunkvue_shopping"]=self["webpackChunkvue_shopping"]||[]).push([[481],{9481:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFn(t.keyword)}},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.searchFn(t.keyword)}}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t.history.length>0?e("div",{staticClass:"search-history"},[e("div",{staticClass:"title"},[e("span",[t._v("最近搜索")]),e("van-icon",{attrs:{name:"delete-o",size:"16"},on:{click:t.resetFn}})],1),e("div",{staticClass:"list"},t._l(t.history,(function(s){return e("div",{key:s,staticClass:"list-item",on:{click:function(e){return t.searchFn(s)}}},[t._v(t._s(s))])})),0)]):t._e()],1)},n=[],i=(s(541),s(7658),s(7247)),o={name:"SearchIndex",data(){return{keyword:"",history:(0,i.e8)()}},components:{},methods:{searchFn(t){if(this.history.includes(t))this.history=this.history.filter((e=>e!==t)),this.history.unshift(t);else{if(""===this.keyword.trim())return;this.history.unshift(t)}(0,i.q1)(this.history),this.$router.push(`/list?keyword=${t}`),this.keyword="",console.log("搜索了："+t)},resetFn(){this.history=[],(0,i.Pg)()}}},a=o,c=s(1001),l=(0,c.Z)(a,r,n,!1,null,"534a8ee4",null),h=l.exports}}]);
//# sourceMappingURL=481.9852c6c2.js.map